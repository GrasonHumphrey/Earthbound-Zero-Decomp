<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>EarthBound Beginnings/Battle Engine - Data Crystal</title>
"simpleBatchUploadMaxFilesPerBatch":{"*":1000},"wgVector2022PreviewPages":[]};RLSTATE={"site.styles":"ready","user.styles":"ready","user":"ready","user.options":"loading","skins.vector.styles.legacy":"ready"};RLPAGEMODULES=["site","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});});});</script>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=skins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.39.4"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="viewport" content="width=1000"/>
<link rel="icon" href="/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Data Crystal (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://datacrystal.tcrf.net/w/api.php?action=rsd"/>
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html"/>
<link rel="alternate" type="application/atom+xml" title="Data Crystal Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-EarthBound_Beginnings_Battle_Engine rootpage-EarthBound_Beginnings skin-vector action-view skin-vector-legacy vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-language-alert-in-sidebar-disabled vector-feature-sticky-header-disabled vector-feature-sticky-header-edit-disabled vector-feature-table-of-contents-disabled vector-feature-visual-enhancement-next-disabled"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"><div id="localNotice"><div class="sitenotice" lang="en" dir="ltr"><div class="msgbox plainlinks" style="border: 1px solid #da4; background: #ffd; padding: 0.5em 1em 0.5em 1em; color: #117; text-align: center; margin-bottom: 0.5em; margin-top: 0.5em;">If you are still using the old URL (datacrystal.<b>romhacking</b>.net), <b>please update your bookmarks!</b> The old URL may stop working at any time.
<br />The current URL is <tt><a rel="nofollow" class="external text" href="https://datacrystal.tcrf.net/wiki/"><b>datacrystal.tcrf.net</b></a></tt>.</div></div></div></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">EarthBound Beginnings/Battle Engine</span></h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Data Crystal</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="/wiki/EarthBound_Beginnings" title="EarthBound Beginnings">EarthBound Beginnings</a></span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Fight"><span class="tocnumber">1</span> <span class="toctext">Fight</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Hit/miss_Calculation"><span class="tocnumber">1.1</span> <span class="toctext">Hit/miss Calculation</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Damage_Calculation"><span class="tocnumber">1.2</span> <span class="toctext">Damage Calculation</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Odds_of_getting_a_SMAAAASH!!"><span class="tocnumber">1.3</span> <span class="toctext">Odds of getting a SMAAAASH!!</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#PSI"><span class="tocnumber">2</span> <span class="toctext">PSI</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Damage"><span class="tocnumber">2.1</span> <span class="toctext">Damage</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Healing"><span class="tocnumber">2.2</span> <span class="toctext">Healing</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Turn_order"><span class="tocnumber">3</span> <span class="toctext">Turn order</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Run_away"><span class="tocnumber">4</span> <span class="toctext">Run away</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Combat_data"><span class="tocnumber">5</span> <span class="toctext">Combat data</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Allies"><span class="tocnumber">5.1</span> <span class="toctext">Allies</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Enemies"><span class="tocnumber">5.2</span> <span class="toctext">Enemies</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Fight">Fight</span></h2>
<h3><span id="Hit.2Fmiss_Calculation"></span><span class="mw-headline" id="Hit/miss_Calculation">Hit/miss Calculation</span></h3>
<p>The defender dodges if:
</p><p>(256 + AttackerFight - DefenderFight) / 2 &lt; (RANDOM 0-255) + 102
</p><p>Otherwise "[NAME] dodged swiftly."  If the attacker and defender have equal Fight, the chance of hitting is approximately 90%.
</p><p>If the attacker is blinded there is an additional 50% chance to miss the attack.
</p>
<h3><span class="mw-headline" id="Damage_Calculation">Damage Calculation</span></h3>
<p>The following method is used to determine attack damage:
</p><p>1. Calculate base damage (round BaseDamage down):
</p><p>BaseDamage (normal) = [(AttackerOffense * 3) - DefenderDefense] / 4
</p><p>BaseDamage (SMAAASH!!) = AttackerOffense
</p><p><br />
2. Get random multiplier from this table.  There is a 50% chance of RandMult being negative.
</p>
<table class="wikitable">

<tbody><tr>
<td><b>Odds</b></td>
<td>7.8%</td>
<td>7.8%</td>
<td>7.8%</td>
<td>7.8%</td>
<td>7.8%</td>
<td>7.0%</td>
<td>7.0%</td>
<td>6.3%</td>
<td>6.3%</td>
<td>5.5%</td>
<td>4.7%</td>
<td>4.7%</td>
<td>3.9%</td>
<td>3.1%</td>
<td>3.1%</td>
<td>2.3%</td>
<td>2.3%</td>
<td>1.6%</td>
<td>1.6%</td>
<td>1.6%</td>
<td>0.8%</td>
<td>0.8%</td>
<td>0.8%</td>
<td>0.8%
</td></tr>
<tr>
<td><b>RandMult</b></td>
<td>0</td>
<td>±1</td>
<td>±2</td>
<td>±3</td>
<td>±4</td>
<td>±5</td>
<td>±6</td>
<td>±7</td>
<td>±8</td>
<td>±9</td>
<td>±10</td>
<td>±11</td>
<td>±13</td>
<td>±14</td>
<td>±15</td>
<td>±16</td>
<td>±17</td>
<td>±18</td>
<td>±19</td>
<td>±20</td>
<td>±21</td>
<td>±22</td>
<td>±23</td>
<td>±24
</td></tr></tbody></table>
<p><br />
3. Calculate final damage (round FinalDamage down):
</p><p>FinalDamage = BaseDamage * (1 ± 0.1 * RandMult)
</p><p><br />
This means that any attack can hit for 76% to 124% of its base damage.
</p>
<h3><span id="Odds_of_getting_a_SMAAAASH.21.21"></span><span class="mw-headline" id="Odds_of_getting_a_SMAAAASH!!">Odds of getting a SMAAAASH!!</span></h3>
<p>The chance of a SMAAAASH!! is exactly the same as the chance of missing an attack:  The attacker gets a SMAAAASH!! if:
</p><p>(256 + AttackerFight - DefenderFight) / 2 &gt; (RANDOM 0-255) + 102
</p><p>If the attacker and defender have equal Fight, the chance of both hitting and getting a SMAAAASH!! is approximately 9%.
</p>
<h2><span class="mw-headline" id="PSI">PSI</span></h2>
<p>PSI attacks will always hit if the defender is not PSI-protected.
</p>
<h3><span class="mw-headline" id="Damage">Damage</span></h3>
<p>PSI damage calculation is done in exactly the same way as the Fight damage calculation, but uses base damage given by <a href="/wiki/EarthBound_Beginnings/PSI_data#PSI_properties" title="EarthBound Beginnings/PSI data">PSI properties</a>.
</p>
<h3><span class="mw-headline" id="Healing">Healing</span></h3>
<p>Healing PSI moves heal for the same amount of damage they would do as calculated by the Fight damage calculation, using base damage/healing given by <a href="/wiki/EarthBound_Beginnings/PSI_data#PSI_properties" title="EarthBound Beginnings/PSI data">PSI properties</a>.
</p>
<h2><span class="mw-headline" id="Turn_order">Turn order</span></h2>
<p>Every turn, everyone in combat is assigned a "final speed" value, calculated as follows. The same RandMult table from the <a href="/wiki/EarthBound_Beginnings/Battle_Engine#Fight" title="EarthBound Beginnings/Battle Engine">Fight</a> section is used.
</p><p>FinalSpeed = BaseSpeed * (1 ± 0.1 * RandMult)
</p><p>Everyone in combat then acts in order of their calculated FinalSpeed, highest to lowest.
</p>
<h2><span class="mw-headline" id="Run_away">Run away</span></h2>
<p>Every non-fainted ally has a 50% chance of successfully running away, and if any one ally escapes the entire party will escape.  So, the chance of successfully running away is:
</p><p>1 - 0.5<sup>Number of non-fainted allies</sup>
</p>
<h2><span class="mw-headline" id="Combat_data">Combat data</span></h2>
<h3><span class="mw-headline" id="Allies">Allies</span></h3>
<p>Stored at RAM 0x0600-0x067F
</p>
<ul><li>00: Ally in party, FF if ally is in party</li>
<li>01: Status condition
<ul><li>Bit 0: Cold</li>
<li>Bit 1: Poisoned</li>
<li>Bit 2: Puzzled</li>
<li>Bit 3: Confused</li>
<li>Bit 4: Sleeping</li>
<li>Bit 5: Paralyzed</li>
<li>Bit 6: Stone</li>
<li>Bit 7: Unconscious (can be applied even when HP isn't at 0)</li></ul></li>
<li>02: Unknown</li>
<li>03-04: HP</li>
<li>05-06: PP</li>
<li>07-08: Offense</li>
<li>09-0A: Defense</li>
<li>0B: Fight</li>
<li>0C: Speed</li>
<li>0D: Wisdom</li>
<li>0E: Strength</li>
<li>0F: Force</li>
<li>10-17: Unknown</li>
<li>18-19: Pointer to name</li>
<li>1A-1F: Mostly unknown</li>
<li>1E:
<ul><li>Bit 1: Having asthma attack</li>
<li>Bit 5: Roped</li>
<li>Bit 7: Blinded</li></ul></li></ul>
<h3><span class="mw-headline" id="Enemies">Enemies</span></h3>
<p>Stored at RAM 0x0680-0x06FF
</p>
<ul><li>00: Unknown</li>
<li>01: Status condition
<ul><li>Bit 0: Cold</li>
<li>Bit 1: Poisoned</li>
<li>Bit 2: Puzzled</li>
<li>Bit 3: Confused</li>
<li>Bit 4: Sleeping</li>
<li>Bit 5: Paralyzed</li>
<li>Bit 6: Stone</li>
<li>Bit 7: Unconscious (can be applied even when HP isn't at 0)</li></ul></li>
<li>02: Unknown</li>
<li>03-04: HP</li>
<li>05-06: PP</li>
<li>07-08: Offense</li>
<li>09-0A: Defense</li>
<li>0B: Fight</li>
<li>0C: Speed</li>
<li>0D: Wisdom</li>
<li>0E: Strength</li>
<li>0F: Force</li>
<li>10-17: <a href="/wiki/EarthBound_Beginnings/Battle_actions#Known_IDs" title="EarthBound Beginnings/Battle actions">Attacks</a></li>
<li>18-19: Pointer to <a href="/wiki/EarthBound_Beginnings/Enemy_data" title="EarthBound Beginnings/Enemy data">enemy data</a></li>
<li>1A-1B: Experience</li>
<li>1C-1D: Money</li>
<li>1E:
<ul><li>Bit 1: Having asthma attack</li>
<li>Bit 5: Roped</li>
<li>Bit 7: Blinded</li></ul></li>
<li>1F: Graphic tileset</li></ul>
<!-- 
NewPP limit report
Cache expiry: 86400
Reduced expiry: false
Complications: [show-toc]
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/500
Unstrip recursion depth: 0/20
Unstrip post-expand size: 0/5000000 bytes
-->
<!--
-->

 -->
</div>
		<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		

<nav id="p-personal" class="vector-menu mw-portlet mw-portlet-personal vector-user-menu-legacy" aria-labelledby="p-personal-label" role="navigation"  >
	<h3
		id="p-personal-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		
	</div>
</nav>

		<div id="left-navigation">
			

<nav id="p-namespaces" class="vector-menu mw-portlet mw-portlet-namespaces vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-namespaces-label" role="navigation"  >
	<h3
		id="p-namespaces-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		
	</div>
</nav>

			

<nav id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation"  >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class="vector-menu-checkbox"
		aria-labelledby="p-variants-label"
	/>
	<label
		id="p-variants-label"
		 aria-label="Change language variant"
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">English</span>
	</label>
	<div class="vector-menu-content">
		
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			

<nav id="p-views" class="vector-menu mw-portlet mw-portlet-views vector-menu-tabs vector-menu-tabs-legacy" aria-labelledby="p-views-label" role="navigation"  >
	<h3
		id="p-views-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Views</span>
	</h3>
	<div class="vector-menu-content">
		
		
	</div>
</nav>

			

<nav id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options" >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class="vector-menu-checkbox"
		aria-labelledby="p-cactions-label"
	/>
	<label
		id="p-cactions-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">More</span>
	</label>
	<div class="vector-menu-content">
		
		
	</div>
</nav>

			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<div>
			<h3 >
				<label for="searchInput">Search</label>
			</h3>
		<form action="/w/index.php" id="searchform"
			class="vector-search-box-form">
			<div id="simpleSearch"
				class="vector-search-box-inner"
				 data-search-loc="header-navigation">
				<input class="vector-search-box-input"
					 type="search" name="search" placeholder="Search Data Crystal" aria-label="Search Data Crystal" autocapitalize="sentences" title="Search Data Crystal [f]" accesskey="f" id="searchInput"
				>
				<input type="hidden" name="title" value="Special:Search">
				<input id="mw-searchButton"
					 class="searchButton mw-fallbackSearchButton" type="submit" name="fulltext" title="Search the pages for this text" value="Search">
				<input id="searchButton"
					 class="searchButton" type="submit" name="go" title="Go to a page with this exact name if it exists" value="Go">
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	

<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="/wiki/Data_Crystal"
			title="Visit the main page"></a>
	</div>
	

<nav id="p-Navigation" class="vector-menu mw-portlet mw-portlet-Navigation vector-menu-portal portal" aria-labelledby="p-Navigation-label" role="navigation"  >
	<h3
		id="p-Navigation-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Navigation</span>
	</h3>
	<div class="vector-menu-content">
		
		
	</div>
</nav>

	

<nav id="p-Community" class="vector-menu mw-portlet mw-portlet-Community vector-menu-portal portal" aria-labelledby="p-Community-label" role="navigation"  >
	<h3
		id="p-Community-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Community</span>
	</h3>
	<div class="vector-menu-content">
		
		
	</div>
</nav>


<nav id="p-Games" class="vector-menu mw-portlet mw-portlet-Games vector-menu-portal portal" aria-labelledby="p-Games-label" role="navigation"  >
	<h3
		id="p-Games-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Games</span>
	</h3>
	<div class="vector-menu-content">
		
		
	</div>
</nav>


<nav id="p-tb" class="vector-menu mw-portlet mw-portlet-tb vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation"  >
	<h3
		id="p-tb-label"
		
		class="vector-menu-heading "
	>
		<span class="vector-menu-heading-label">Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		
	</div>
</nav>

	
</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info">
	<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.2</a> unless otherwise noted.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="/wiki/Data_Crystal:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/Data_Crystal:About">About Data Crystal</a></li>
	<li id="footer-places-disclaimer"><a href="/wiki/Data_Crystal:General_disclaimer">Disclaimers</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="http://www.gnu.org/copyleft/fdl.html"><img src="/w/resources/assets/licenses/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31" loading="lazy"/></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/w/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /w/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
</ul>

</footer>

</body>
</html>
